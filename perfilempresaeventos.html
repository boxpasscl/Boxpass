<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Perfil Empresa - Boxpass Eventos</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-black min-h-screen text-white">

  <!-- Logo -->
  <div class="flex justify-center py-6">
    <a href="index.html">
      <img src="Imagenes/logo.svg" alt="Boxpass" class="h-20">
    </a>
  </div>

  <!-- Contenedor principal -->
  <div class="max-w-5xl mx-auto red-900 rounded-2xl shadow-lg p-8">

    <!-- Tabs -->
    <div class="flex border-b border-gray-700 mb-6">
      <button id="tab-crear" class="tab-btn px-4 py-2 text-white border-b-2 border-red-600">Crear Evento</button>
      <button id="tab-reportes" class="tab-btn px-4 py-2 text-gray-400 hover:text-white">Reportes</button>
    </div>

    <!-- Contenido Tabs -->
    <div id="contenido-crear">
      <!-- Crear evento -->
      <h2 class="text-2xl font-bold mb-6">Crear un nuevo evento</h2>
      <form class="space-y-4">
        <!-- Datos básicos -->
        <div>
          <label class="block text-sm font-medium">Nombre del evento</label>
          <input type="text" class="mt-1 w-full px-3 py-2 rounded-lg text-black">
        </div>
        <div>
          <label class="block text-sm font-medium">Fecha del evento</label>
          <input type="date" class="mt-1 w-full px-3 py-2 rounded-lg text-black">
        </div>
        <div>
          <label class="block text-sm font-medium">Lugar del evento</label>
          <input type="text" class="mt-1 w-full px-3 py-2 rounded-lg text-black">
        </div>

        <!-- Sectores -->
        <h3 class="text-lg font-semibold mt-6">Sectores y precios</h3>
        <div id="sectores" class="space-y-3"></div>
        <button type="button" onclick="agregarSector()" class="bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded-lg">
          + Agregar sector
        </button>

        <!-- Botón -->
        <button type="submit" class="w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-lg mt-6">
          Enviar para aprobación
        </button>
      </form>
      <p class="text-sm text-gray-400 mt-3">
        *El evento será revisado y aprobado por la administración de Boxpass antes de publicarse.
      </p>
    </div>

    <div id="contenido-reportes" class="hidden">
      <!-- Reportes -->
      <h2 class="text-2xl font-bold mb-6">Reportes de ventas</h2>
      <div class="overflow-x-auto">
        <table class="min-w-full bg-gray-800 text-sm rounded-lg overflow-hidden">
          <thead>
            <tr class="bg-gray-700 text-gray-300">
              <th class="px-4 py-2 text-left">Evento</th>
              <th class="px-4 py-2 text-left">Sector</th>
              <th class="px-4 py-2 text-left">Entradas vendidas</th>
              <th class="px-4 py-2 text-left">Recaudación</th>
              <th class="px-4 py-2 text-left">Comisión Boxpass (5%)</th>
              <th class="px-4 py-2 text-left">Total Empresa</th>
            </tr>
          </thead>
          <tbody>
            <tr class="border-b border-gray-700">
              <td class="px-4 py-2">Velada Boxeo III</td>
              <td class="px-4 py-2">VIP</td>
              <td class="px-4 py-2">120</td>
              <td class="px-4 py-2">$12,000,000</td>
              <td class="px-4 py-2 text-red-400">-$600,000</td>
              <td class="px-4 py-2 text-green-400">$11,400,000</td>
            </tr>
            <tr>
              <td class="px-4 py-2">Velada Boxeo III</td>
              <td class="px-4 py-2">Galería</td>
              <td class="px-4 py-2">300</td>
              <td class="px-4 py-2">$6,000,000</td>
              <td class="px-4 py-2 text-red-400">-$300,000</td>
              <td class="px-4 py-2 text-green-400">$5,700,000</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

  </div>

  <!-- Scripts -->
  <script>
    // Tabs
    const tabCrear = document.getElementById("tab-crear");
    const tabReportes = document.getElementById("tab-reportes");
    const contenidoCrear = document.getElementById("contenido-crear");
    const contenidoReportes = document.getElementById("contenido-reportes");

    tabCrear.addEventListener("click", () => {
      tabCrear.classList.add("text-white", "border-b-2", "border-red-600");
      tabCrear.classList.remove("text-gray-400");
      tabReportes.classList.remove("text-white", "border-b-2", "border-red-600");
      tabReportes.classList.add("text-gray-400");

      contenidoCrear.classList.remove("hidden");
      contenidoReportes.classList.add("hidden");
    });

    tabReportes.addEventListener("click", () => {
      tabReportes.classList.add("text-white", "border-b-2", "border-red-600");
      tabReportes.classList.remove("text-gray-400");
      tabCrear.classList.remove("text-white", "border-b-2", "border-red-600");
      tabCrear.classList.add("text-gray-400");

      contenidoCrear.classList.add("hidden");
      contenidoReportes.classList.remove("hidden");
    });

    // Dinámica para agregar sectores
    let sectorCount = 0;
    function agregarSector() {
      sectorCount++;
      const div = document.createElement("div");
      div.className = "bg-gray-800 p-4 rounded-lg space-y-2";

      // Usamos template string con backticks para mantener las comillas y clases correctamente
      div.innerHTML = `
        <label class="block text-sm">Nombre del sector</label>
        <input type="text" class="w-full px-3 py-2 rounded-lg text-black" placeholder="Ej: VIP, Platea, Galería">

        <label class="block text-sm">Cantidad de entradas disponibles</label>
        <input type="number" min="0" class="w-full px-3 py-2 rounded-lg text-black cantidad-disponible" placeholder="Ej: 500">

        <label class="block text-sm">Precio general</label>
        <input type="number" class="w-full px-3 py-2 rounded-lg text-black" placeholder="Ej: 25000">

        <label class="block text-sm">Precio preventa</label>
        <input type="number" class="w-full px-3 py-2 rounded-lg text-black" placeholder="Ej: 20000">

        <label class="block text-sm">Límite preventa</label>
        <div class="grid grid-cols-2 gap-3">
          <div>
            <label class="text-xs text-gray-300">Por cantidad de tickets</label>
            <input type="number" min="0" class="w-full px-3 py-2 rounded-lg text-black limite-cantidad" placeholder="Ej: 100">
          </div>
          <div>
            <label class="text-xs text-gray-300">Por fecha</label>
            <input type="date" class="w-full px-3 py-2 rounded-lg text-black limite-fecha">
          </div>
        </div>
        <p class="text-xs text-gray-400">* Sólo puedes usar uno de los dos límites.</p>
      `;

      // Añadir el bloque al DOM
      document.getElementById("sectores").appendChild(div);

      // Lógica: solo permitir llenar un campo de preventa (tickets o fecha) por sector
      const limiteCantidad = div.querySelector(".limite-cantidad");
      const limiteFecha = div.querySelector(".limite-fecha");

      // Asegurar que ambos empiecen habilitados
      limiteCantidad.disabled = false;
      limiteFecha.disabled = false;

      limiteCantidad.addEventListener("input", () => {
        if (limiteCantidad.value && limiteCantidad.value !== "") {
          limiteFecha.disabled = true;
          // si quieres dejar el campo de fecha vacío cuando se desactiva:
          // limiteFecha.value = "";
        } else {
          limiteFecha.disabled = false;
        }
      });

      limiteFecha.addEventListener("input", () => {
        if (limiteFecha.value && limiteFecha.value !== "") {
          limiteCantidad.disabled = true;
          // limiteCantidad.value = "";
        } else {
          limiteCantidad.disabled = false;
        }
      });
    }
  </script>
</body>
</html>
